(function(m){var p=m(window);m.fn.visible=function(c,g,f){if(!(1>this.length)){var d=1<this.length?this.eq(0):this,a=d.get(0),h=p.width(),e=p.height();f=f?f:"both";g=!0===g?a.offsetWidth*a.offsetHeight:!0;if("function"===typeof a.getBoundingClientRect){var b=a.getBoundingClientRect(),a=0<=b.top&&b.top<e,d=0<b.bottom&&b.bottom<=e,e=0<=b.left&&b.left<h,b=0<b.right&&b.right<=h,a=c?a||d:a&&d;c=c?e||e:e&&b;if("both"===f)return g&&a&&c;if("vertical"===f)return g&&a;if("horizontal"===f)return g&&c}else{var a=
p.scrollTop(),e=a+e,b=p.scrollLeft(),h=b+h,k=d.offset(),l=k.top,n=l+d.height(),k=k.left,m=k+d.width(),d=!0===c?n:l,l=!0===c?l:n,n=!0===c?m:k;c=!0===c?k:m;if("both"===f)return!!g&&l<=e&&d>=a&&c<=h&&n>=b;if("vertical"===f)return!!g&&l<=e&&d>=a;if("horizontal"===f)return!!g&&c<=h&&n>=b}}}})(jQuery);